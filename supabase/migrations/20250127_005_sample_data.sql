-- 포항 스토리텔러 샘플 데이터 마이그레이션
-- 생성일: 2025-01-27
-- 설명: 테스트 및 개발용 샘플 데이터 (미디어, 앨범, 게시물, 기념품 등)
-- Supabase Migration SQL Guideline 준수

-- =============================================
-- 1. 테스트 계정용 미디어 파일 데이터
-- =============================================

INSERT INTO media_files (id, user_id, file_path, file_name, file_type, file_size, mime_type, tags, location_data, metadata, storage_url, created_at, updated_at) VALUES
-- 테스트 사용자 (test@example.com) 미디어 파일
('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'uploads/test_001.jpg', '호미곶 일출', 'image', 2048000, 'image/jpeg', ARRAY['일출', '호미곶', '자연'], '{"address": "포항시 남구 호미곶", "description": "호미곶에서 찍은 아름다운 일출 사진"}', '{"description": "호미곶에서 찍은 아름다운 일출 사진"}', 'https://picsum.photos/800/600?random=1001', NOW(), NOW()),
('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', 'uploads/test_002.jpg', '죽도시장 풍경', 'image', 1536000, 'image/jpeg', ARRAY['시장', '전통', '음식'], '{"address": "포항시 북구 죽도시장", "description": "죽도시장의 활기찬 모습"}', '{"description": "죽도시장의 활기찬 모습"}', 'https://picsum.photos/800/600?random=1002', NOW(), NOW()),
('00000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', 'uploads/test_003.jpg', '포항제철소 야경', 'image', 3072000, 'image/jpeg', ARRAY['야경', '제철소', '산업'], '{"address": "포항시 남구 포항제철소", "description": "포항제철소의 야간 조명"}', '{"description": "포항제철소의 야간 조명"}', 'https://picsum.photos/800/600?random=1003', NOW(), NOW()),
('00000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', 'uploads/test_004.jpg', '영일대해수욕장', 'image', 2560000, 'image/jpeg', ARRAY['바다', '해수욕장', '여름'], '{"address": "포항시 북구 영일대해수욕장", "description": "영일대해수욕장의 푸른 바다"}', '{"description": "영일대해수욕장의 푸른 바다"}', 'https://picsum.photos/800/600?random=1004', NOW(), NOW()),
('00000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', 'uploads/test_005.jpg', '포항공과대학교', 'image', 1792000, 'image/jpeg', ARRAY['대학교', '교육', '캠퍼스'], '{"address": "포항시 남구 포항공과대학교", "description": "POSTECH 캠퍼스의 아름다운 모습"}', '{"description": "POSTECH 캠퍼스의 아름다운 모습"}', 'https://picsum.photos/800/600?random=1005', NOW(), NOW()),

-- 마니트리 사용자 미디어 파일
('00000000-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000002', 'uploads/manitri_001.jpg', '포항 바다 풍경', 'image', 2200000, 'image/jpeg', ARRAY['바다', '풍경', '자연'], '{"address": "포항시 북구 영일대해수욕장", "description": "포항 바다의 아름다운 풍경"}', '{"description": "포항 바다의 아름다운 풍경"}', 'https://picsum.photos/800/600?random=2001', NOW(), NOW()),
('00000000-0000-0000-0000-000000000007', '00000000-0000-0000-0000-000000000002', 'uploads/manitri_002.jpg', '포항 맛집 탐방', 'image', 1800000, 'image/jpeg', ARRAY['맛집', '음식', '탐방'], '{"address": "포항시 북구 죽도시장", "description": "포항의 맛있는 음식들"}', '{"description": "포항의 맛있는 음식들"}', 'https://picsum.photos/800/600?random=2002', NOW(), NOW()),
('00000000-0000-0000-0000-000000000008', '00000000-0000-0000-0000-000000000002', 'uploads/manitri_003.jpg', '포항 역사 탐방', 'image', 2400000, 'image/jpeg', ARRAY['역사', '문화', '탐방'], '{"address": "포항시 남구 포항제철소", "description": "포항의 역사적 의미"}', '{"description": "포항의 역사적 의미"}', 'https://picsum.photos/800/600?random=2003', NOW(), NOW()),
('00000000-0000-0000-0000-000000000009', '00000000-0000-0000-0000-000000000002', 'uploads/manitri_004.jpg', '포항 야경', 'image', 3000000, 'image/jpeg', ARRAY['야경', '도시', '밤'], '{"address": "포항시 북구 중앙로", "description": "포항의 아름다운 야경"}', '{"description": "포항의 아름다운 야경"}', 'https://picsum.photos/800/600?random=2004', NOW(), NOW()),
('00000000-0000-0000-0000-000000000010', '00000000-0000-0000-0000-000000000002', 'uploads/manitri_005.jpg', '포항 문화 체험', 'image', 2000000, 'image/jpeg', ARRAY['문화', '체험', '전통'], '{"address": "포항시 북구 포항시립미술관", "description": "포항의 문화를 체험하는 시간"}', '{"description": "포항의 문화를 체험하는 시간"}', 'https://picsum.photos/800/600?random=2005', NOW(), NOW())
ON CONFLICT (id) DO NOTHING;

-- =============================================
-- 2. 테스트 계정용 앨범 데이터
-- =============================================

INSERT INTO albums (id, user_id, title, description, cover_image_url, template_type, is_public, created_at, updated_at) VALUES
-- 테스트 사용자 앨범
('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '포항 일출 앨범', '호미곶에서 찍은 아름다운 일출 사진들', 'https://picsum.photos/400/300?random=3001', 'grid', true, NOW(), NOW()),
('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '포항 맛집 탐방', '포항의 맛있는 음식들을 기록한 앨범', 'https://picsum.photos/400/300?random=3002', 'timeline', true, NOW(), NOW()),
('00000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '포항 역사 여행', '포항의 역사적 장소들을 둘러본 기록', 'https://picsum.photos/400/300?random=3003', 'travel', true, NOW(), NOW()),
('00000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', '포항 야경 컬렉션', '포항의 아름다운 야경 사진들', 'https://picsum.photos/400/300?random=3004', 'grid', true, NOW(), NOW()),
('00000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', '포항 바다 이야기', '포항의 바다와 관련된 추억들', 'https://picsum.photos/400/300?random=3005', 'travel', true, NOW(), NOW()),

-- 마니트리 사용자 앨범
('00000000-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000002', '포항 여행 기록', '포항 여행의 모든 순간들을 담은 앨범', 'https://picsum.photos/400/300?random=4001', 'travel', true, NOW(), NOW()),
('00000000-0000-0000-0000-000000000007', '00000000-0000-0000-0000-000000000002', '포항 맛집 컬렉션', '포항에서 맛본 모든 음식들', 'https://picsum.photos/400/300?random=4002', 'grid', true, NOW(), NOW()),
('00000000-0000-0000-0000-000000000008', '00000000-0000-0000-0000-000000000002', '포항 문화 탐방', '포항의 문화와 역사를 둘러본 기록', 'https://picsum.photos/400/300?random=4003', 'timeline', true, NOW(), NOW()),
('00000000-0000-0000-0000-000000000009', '00000000-0000-0000-0000-000000000002', '포항 야경 갤러리', '포항의 아름다운 야경 사진들', 'https://picsum.photos/400/300?random=4004', 'grid', true, NOW(), NOW()),
('00000000-0000-0000-0000-000000000010', '00000000-0000-0000-0000-000000000002', '포항 바다 스토리', '포항 바다와 함께한 특별한 순간들', 'https://picsum.photos/400/300?random=4005', 'travel', true, NOW(), NOW())
ON CONFLICT (id) DO NOTHING;

-- =============================================
-- 3. 테스트 계정용 앨범 아이템 데이터
-- =============================================

INSERT INTO album_items (id, album_id, media_file_id, item_type, order_index, caption, created_at, updated_at) VALUES
-- 테스트 사용자 앨범 아이템
('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', 'image', 1, '호미곶의 아름다운 일출', NOW(), NOW()),
('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000002', 'image', 1, '죽도시장의 활기찬 모습', NOW(), NOW()),
('00000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000003', 'image', 1, '포항제철소의 야간 조명', NOW(), NOW()),
('00000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000004', 'image', 1, '영일대해수욕장의 푸른 바다', NOW(), NOW()),
('00000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000005', 'image', 1, 'POSTECH 캠퍼스의 아름다운 모습', NOW(), NOW()),

-- 마니트리 사용자 앨범 아이템
('00000000-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000006', 'image', 1, '포항 바다의 아름다운 풍경', NOW(), NOW()),
('00000000-0000-0000-0000-000000000007', '00000000-0000-0000-0000-000000000007', '00000000-0000-0000-0000-000000000007', 'image', 1, '포항의 맛있는 음식들', NOW(), NOW()),
('00000000-0000-0000-0000-000000000008', '00000000-0000-0000-0000-000000000008', '00000000-0000-0000-0000-000000000008', 'image', 1, '포항의 역사적 의미', NOW(), NOW()),
('00000000-0000-0000-0000-000000000009', '00000000-0000-0000-0000-000000000009', '00000000-0000-0000-0000-000000000009', 'image', 1, '포항의 아름다운 야경', NOW(), NOW()),
('00000000-0000-0000-0000-000000000010', '00000000-0000-0000-0000-000000000010', '00000000-0000-0000-0000-000000000010', 'image', 1, '포항의 문화를 체험하는 시간', NOW(), NOW())
ON CONFLICT (id) DO NOTHING;

-- =============================================
-- 4. 테스트 계정용 기념품 데이터
-- =============================================

INSERT INTO souvenirs (id, user_id, template_id, name, description, image_url, quantity, status, created_at, updated_at) VALUES
-- 테스트 사용자 기념품
('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', (SELECT id FROM souvenir_templates LIMIT 1), '호미곶 일출 머그컵', '호미곶 일출이 그려진 머그컵', 'https://picsum.photos/200/200?random=4001', 1, 'completed', NOW(), NOW()),
('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', (SELECT id FROM souvenir_templates LIMIT 1), '죽도시장 엽서 세트', '죽도시장 풍경이 담긴 엽서 세트', 'https://picsum.photos/200/200?random=4002', 1, 'completed', NOW(), NOW()),
('00000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', (SELECT id FROM souvenir_templates LIMIT 1), '포항제철소 키링', '포항제철소 로고가 새겨진 키링', 'https://picsum.photos/200/200?random=4003', 2, 'completed', NOW(), NOW()),
('00000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', (SELECT id FROM souvenir_templates LIMIT 1), '영일대해수욕장 스티커', '영일대해수욕장을 테마로 한 스티커', 'https://picsum.photos/200/200?random=4004', 5, 'completed', NOW(), NOW()),
('00000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', (SELECT id FROM souvenir_templates LIMIT 1), 'POSTECH 마그넷', 'POSTECH 로고가 들어간 마그넷', 'https://picsum.photos/200/200?random=4005', 1, 'completed', NOW(), NOW())
ON CONFLICT (id) DO NOTHING;

-- =============================================
-- 5. 테스트 계정용 게시물 데이터
-- =============================================

INSERT INTO posts (id, author_id, title, content, media_urls, hashtags, location, is_public, created_at, updated_at) VALUES
-- 테스트 사용자 게시물
('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '호미곶 일출의 아름다움', '호미곶에서 맞이한 일출의 순간을 담았습니다. 정말 아름다웠어요!', ARRAY['https://picsum.photos/800/600?random=5001'], ARRAY['일출', '호미곶', '자연'], '포항시 남구 호미곶', true, NOW(), NOW()),
('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', '죽도시장의 활기', '죽도시장의 활기찬 모습을 담았습니다. 정말 생동감 넘치네요!', ARRAY['https://picsum.photos/800/600?random=5002'], ARRAY['시장', '전통', '활기'], '포항시 북구 죽도시장', true, NOW(), NOW()),
('00000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '포항제철소 야경', '포항제철소의 야간 조명이 정말 멋졌습니다.', ARRAY['https://picsum.photos/800/600?random=5003'], ARRAY['야경', '제철소', '조명'], '포항시 남구 포항제철소', true, NOW(), NOW()),
('00000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', '영일대해수욕장에서', '영일대해수욕장의 푸른 바다가 정말 아름다웠습니다.', ARRAY['https://picsum.photos/800/600?random=5004'], ARRAY['바다', '해수욕장', '여름'], '포항시 북구 영일대해수욕장', true, NOW(), NOW()),
('00000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000001', 'POSTECH 캠퍼스 산책', 'POSTECH 캠퍼스를 산책하며 느낀 학문의 전당의 위엄', ARRAY['https://picsum.photos/800/600?random=5005'], ARRAY['대학교', '캠퍼스', '학문'], '포항시 남구 포항공과대학교', true, NOW(), NOW()),

-- 마니트리 사용자 게시물
('00000000-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000002', '포항 바다의 매력', '포항 바다의 아름다운 풍경에 매료되었습니다. 정말 평화로웠어요!', ARRAY['https://picsum.photos/800/600?random=6001'], ARRAY['바다', '풍경', '평화'], '포항시 북구 영일대해수욕장', true, NOW(), NOW()),
('00000000-0000-0000-0000-000000000007', '00000000-0000-0000-0000-000000000002', '포항 맛집 투어', '포항의 맛있는 음식들을 찾아다니며 즐거운 시간을 보냈습니다.', ARRAY['https://picsum.photos/800/600?random=6002'], ARRAY['맛집', '음식', '투어'], '포항시 북구 죽도시장', true, NOW(), NOW()),
('00000000-0000-0000-0000-000000000008', '00000000-0000-0000-0000-000000000002', '포항 역사의 흔적', '포항의 역사적 의미를 되새기며 걸었던 시간이 특별했습니다.', ARRAY['https://picsum.photos/800/600?random=6003'], ARRAY['역사', '문화', '탐방'], '포항시 남구 포항제철소', true, NOW(), NOW()),
('00000000-0000-0000-0000-000000000009', '00000000-0000-0000-0000-000000000002', '포항 야경의 로맨스', '포항의 야경이 정말 로맨틱했습니다. 연인과 함께하면 더욱 좋을 것 같아요!', ARRAY['https://picsum.photos/800/600?random=6004'], ARRAY['야경', '로맨스', '도시'], '포항시 북구 중앙로', true, NOW(), NOW()),
('00000000-0000-0000-0000-000000000010', '00000000-0000-0000-0000-000000000002', '포항 문화 체험', '포항의 문화를 직접 체험하며 많은 것을 배웠습니다.', ARRAY['https://picsum.photos/800/600?random=6005'], ARRAY['문화', '체험', '학습'], '포항시 북구 포항시립미술관', true, NOW(), NOW())
ON CONFLICT (id) DO NOTHING;

-- =============================================
-- 6. 테스트 계정용 좋아요 데이터
-- =============================================

INSERT INTO likes (user_id, post_id, created_at) VALUES
-- 테스트 사용자가 다른 사용자 게시물에 좋아요
('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000006', NOW()),
('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000007', NOW()),
('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000008', NOW()),

-- 마니트리 사용자가 다른 사용자 게시물에 좋아요
('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000001', NOW()),
('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000002', NOW()),
('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000003', NOW())
ON CONFLICT (user_id, post_id) DO NOTHING;

-- =============================================
-- 7. 테스트 계정용 댓글 데이터
-- =============================================

INSERT INTO comments (id, post_id, author_id, content, created_at, updated_at) VALUES
-- 테스트 사용자 댓글
('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000001', '정말 아름다운 사진이네요! 저도 가보고 싶어요.', NOW(), NOW()),
('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000007', '00000000-0000-0000-0000-000000000001', '맛집 정보 감사합니다. 다음에 가보겠어요!', NOW(), NOW()),

-- 마니트리 사용자 댓글
('00000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000002', '일출 사진이 정말 멋지네요! 호미곶은 언제나 아름다워요.', NOW(), NOW()),
('00000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000002', '죽도시장의 활기찬 모습이 잘 담겼네요!', NOW(), NOW())
ON CONFLICT (id) DO NOTHING;

-- =============================================
-- 8. 완료 메시지
-- =============================================

DO $$
BEGIN
    RAISE NOTICE '샘플 데이터 마이그레이션이 성공적으로 완료되었습니다!';
    RAISE NOTICE '테스트 계정용 미디어, 앨범, 게시물, 기념품 데이터가 생성되었습니다.';
    RAISE NOTICE '총 10개의 미디어 파일, 10개의 앨범, 10개의 게시물이 추가되었습니다.';
END $$;
