# 🗺️ Map Components - 포항 스토리 텔러

## 📌 개요

포항 스토리 텔러의 핵심 지도 기능을 담당하는 컴포넌트들입니다. 스토리 기반 코스 탐험, 디지털 스탬프 투어, 경험 기록을 위한 지도 인터랙션을 제공합니다.

## 🏗️ 컴포넌트 구조

```
src/components/map/
├── README.md                 # 이 파일
├── index.ts                  # 컴포넌트 내보내기
├── types.ts                  # 지도 관련 타입 정의
├── hooks/                    # 지도 관련 커스텀 훅
│   ├── use-map.ts           # 지도 상태 관리
│   ├── use-markers.ts       # 마커 관리
│   └── use-routes.ts        # 경로 관리
├── components/              # 지도 컴포넌트들
│   ├── map-container.tsx    # 지도 컨테이너
│   ├── map-marker.tsx       # 마커 컴포넌트
│   ├── map-route.tsx        # 경로 컴포넌트
│   ├── map-controls.tsx     # 지도 컨트롤
│   └── map-popup.tsx        # 팝업 컴포넌트
├── providers/               # 지도 프로바이더
│   ├── map-provider.tsx     # 지도 컨텍스트
│   └── kakao-map-provider.tsx # 카카오맵 프로바이더
└── utils/                   # 유틸리티 함수
    ├── map-utils.ts         # 지도 유틸리티
    ├── coordinate-utils.ts  # 좌표 변환
    └── qr-utils.ts          # QR 코드 관련
```

## 🎯 핵심 기능

### 1. 스토리 코스 지도

- **코스 경로 표시**: 방문지 간 이동 경로 시각화
- **방문지 마커**: 각 방문지의 상세 정보 표시
- **인터랙티브 탐색**: 마커 클릭 시 스토리 콘텐츠 표시

### 2. 디지털 스탬프 투어

- **QR 코드 연동**: 위치 기반 스탬프 획득
- **실시간 업데이트**: 스탬프 획득 시 지도 상태 업데이트
- **진행률 표시**: 코스 완주 진행률 시각화

### 3. 경험 기록 앨범

- **사진 위치 표시**: 촬영한 사진의 위치 마커
- **타임라인 뷰**: 시간순 방문 기록 표시
- **감정 태그**: 방문지별 감정 기록

## 🎨 디자인 원칙

### 색상 팔레트

- **Primary**: `#3B82F6` (브랜드 메인)
- **Secondary**: `#F59E0B` (따뜻한 포인트)
- **Accent**: `#10B981` (자연스러운 강조)
- **Neutral**: `#374151` (텍스트), `#F9FAFB` (배경)

### 반응형 레이아웃

- **Mobile (320px+)**: 1열, 터치 최적화
- **Tablet (768px+)**: 2열, 지도 + 정보 패널
- **Desktop (1024px+)**: 3열, 사이드바 + 지도 + 상세 정보

## 🔧 기술 스택

- **지도 API**: Kakao Map API (한국 최적화)
- **상태 관리**: Zustand (경량 글로벌 상태)
- **UI 라이브러리**: shadcn/ui + TailwindCSS
- **타입 안정성**: TypeScript
- **성능 최적화**: React.memo, useMemo, useCallback

## 📱 사용자 경험

### 모바일 최적화

- 터치 제스처 지원 (핀치 줌, 팬)
- 스와이프 네비게이션
- 햅틱 피드백 (진동)

### 접근성

- 키보드 네비게이션 지원
- 스크린 리더 호환
- 고대비 모드 지원

## 🚀 성능 최적화

- **지연 로딩**: 필요 시에만 지도 API 로드
- **메모이제이션**: 불필요한 리렌더링 방지
- **가상화**: 대량 마커 처리 최적화
- **캐싱**: 자주 사용되는 지도 타일 캐시

## 🔒 보안 및 개인정보

- **로컬 저장**: 개인정보 최소화
- **HTTPS 통신**: 모든 API 통신 암호화
- **권한 관리**: 위치 정보 접근 권한 명시적 요청

---

이 컴포넌트들은 포항 스토리 텔러의 핵심 가치인 **스토리 중심의 여행 경험**을 지도 인터랙션을 통해 구현합니다.
