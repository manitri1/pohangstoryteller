# 🗄️ 데이터베이스 설정 가이드

## 🎯 **문제 해결: 목업 데이터 대신 실제 데이터베이스 데이터 사용하기**

현재 웹페이지에서 코스를 선택했을 때 목업 데이터가 표시되는 문제를 해결하려면, Supabase 데이터베이스에 실제 코스 데이터를 삽입해야 합니다.

## 📋 **해결 단계**

### **1단계: Supabase 대시보드 접속**

1. [Supabase 대시보드](https://supabase.com/dashboard)에 로그인
2. 프로젝트 선택
3. 좌측 메뉴에서 **"SQL Editor"** 클릭

### **2단계: 마이그레이션 파일 순서대로 실행**

다음 순서로 SQL 파일들을 실행해주세요:

#### **1️⃣ 기본 스키마 생성**

```sql
-- 파일: 20241219_001_initial_schema.sql 실행
```

- 모든 테이블, 인덱스, RLS 정책 생성
- PostGIS 확장 활성화
- 기본 템플릿 데이터 삽입

#### **2️⃣ 샘플 데이터 삽입**

```sql
-- 파일: 20241219_002_sample_data.sql 실행
```

- 기본 관광지 및 코스 데이터
- PostGIS 좌표 타입 오류 수정됨
- 경로 description 포함

#### **3️⃣ 포항 관광지 데이터**

```sql
-- 파일: 20241219_003_pohang_tourist_spots.sql 실행
```

- 포항의 실제 관광지 데이터
- 좌표 정보 포함

#### **4️⃣ 개발용 사용자 데이터**

```sql
-- 파일: 20241219_004_dev_users.sql 실행
```

- 개발용 사용자 프로필 데이터

#### **5️⃣ 사용자 참여 데이터**

```sql
-- 파일: 20241219_005_user_engagement_data.sql 실행
```

- 스탬프, 앨범, 게시물 등 사용자 참여 데이터

### **3단계: 실행 확인**

마이그레이션 실행 후 다음을 확인해주세요:

1. **테이블 생성 확인**

   ```sql
   SELECT table_name FROM information_schema.tables
   WHERE table_schema = 'public'
   ORDER BY table_name;
   ```

2. **코스 데이터 확인**

   ```sql
   SELECT id, title, description FROM courses LIMIT 5;
   ```

3. **관광지 데이터 확인**
   ```sql
   SELECT id, name, address FROM locations LIMIT 5;
   ```

## ✅ **완료 후 예상 결과**

마이그레이션을 모두 실행하면:

1. **웹페이지에서 코스 선택 시** → 데이터베이스의 실제 데이터 표시
2. **목업 데이터 대신** → 실제 포항 관광지와 코스 데이터 표시
3. **API 응답** → 데이터베이스에서 가져온 실제 데이터

## 🔧 **문제 해결**

### **오류 발생 시**

- 각 마이그레이션 파일을 순서대로 실행했는지 확인
- 이전 마이그레이션에서 오류가 발생했다면 해당 오류를 먼저 해결
- Supabase 로그에서 자세한 오류 메시지 확인

### **여전히 목업 데이터가 표시되는 경우**

- 브라우저 캐시 삭제
- 개발 서버 재시작
- Supabase 연결 상태 확인

## 📞 **도움이 필요한 경우**

마이그레이션 실행 중 문제가 발생하면:

1. 오류 메시지를 복사해서 공유
2. 실행한 마이그레이션 파일 순서 확인
3. Supabase 프로젝트 설정 확인
