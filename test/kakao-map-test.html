<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>카카오맵 API 테스트</title>
  </head>
  <body>
    <h1>카카오맵 API 테스트</h1>
    <div id="map" style="width: 500px; height: 400px"></div>

    <script>
      // API 키 테스트
      const API_KEY = '81bc629292619cb2ede368c8b02a7f25';
      console.log('API 키:', API_KEY);

      // 카카오맵 API 로드
      const script = document.createElement('script');
      script.src = `//dapi.kakao.com/v2/maps/sdk.js?appkey=${API_KEY}&autoload=false`;
      script.async = true;

      script.onload = function () {
        console.log('스크립트 로드 완료');
        console.log('window.kakao:', window.kakao);

        if (window.kakao && window.kakao.maps) {
          console.log('카카오 객체 확인됨');
          window.kakao.maps.load(function () {
            console.log('카카오맵 초기화 시작');

            const container = document.getElementById('map');
            const options = {
              center: new window.kakao.maps.LatLng(36.019, 129.3435),
              level: 12,
            };

            const map = new window.kakao.maps.Map(container, options);
            console.log('지도 생성 완료:', map);
          });
        } else {
          console.error('카카오 객체가 없습니다');
        }
      };

      script.onerror = function (error) {
        console.error('스크립트 로드 실패:', error);
      };

      document.head.appendChild(script);
    </script>
  </body>
</html>
