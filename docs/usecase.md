```markdown
# Use Case Document : 포항 스토리 텔러

---

## 📌 1. Actor Definitions

| 액터                  | 설명                                                                                   | 권한/역할                                                        |
| --------------------- | -------------------------------------------------------------------------------------- | ---------------------------------------------------------------- |
| **일반 사용자**       | 웹사이트 방문 후 스토리 탐험, 스탬프 투어, 앨범 제작, 커뮤니티 참여를 하는 모든 사용자 | 로그인 없이 콘텐츠 탐색 가능, 로그인 시 기록 저장 및 기념품 주문 |
| **회원 사용자**       | 로그인 또는 SNS 계정으로 가입한 사용자                                                 | 개인화 추천, 앨범 자동 저장, DIY 기념품 주문/결제                |
| **관리자**            | 콘텐츠(코스, 스토리, 스탬프, 커뮤니티 피드 등) 등록/수정/삭제                          | 콘텐츠 관리, 스탬프 보상 정책 설정, 사용자 신고 처리             |
| **AI 챗봇 엔진**      | 여행 추천과 대화형 일정 제안 수행                                                      | 사용자 입력 기반 추천 알고리즘 실행                              |
| **결제 서비스(외부)** | 아임포트/PortOne 등 결제 게이트웨이                                                    | 굿즈 주문 및 결제 처리                                           |
| **지도 API(외부)**    | Kakao/Naver Map API                                                                    | 코스 경로 표시, 위치 정보 제공                                   |

---

## 📌 2. Use Case Scenarios

### 시나리오 A: 스토리 코스 탐험 및 추천

- **목적**: 사용자가 취향에 맞는 포항 여행 코스를 찾는다.
- **액터**: 일반 사용자, AI 챗봇 엔진
- **전제조건**: 사용자는 웹 브라우저로 플랫폼 접속.

### 시나리오 B: 디지털 스탬프 투어 및 앨범 생성

- **목적**: 사용자가 QR 스캔으로 스탬프를 획득하고 여행 앨범을 자동 생성한다.
- **액터**: 회원 사용자, 지도 API
- **전제조건**: 모바일 브라우저 또는 카메라 기능이 있는 기기.

### 시나리오 C: DIY 기념품 제작 및 주문

- **목적**: 사용자가 앨범의 사진/스탬프를 활용하여 ‘포항4컷’ 굿즈를 제작 후 결제.
- **액터**: 회원 사용자, 결제 서비스
- **전제조건**: 회원 로그인 및 스탬프/사진 기록 보유.

### 시나리오 D: 커뮤니티 콘텐츠 공유

- **목적**: 사용자가 제작한 숏폼/사진을 앱 내 피드 또는 외부 SNS에 공유.
- **액터**: 회원 사용자, 외부 SNS API
- **전제조건**: 회원 로그인.

---

## 📌 3. Main Steps and Flow of Events

#### 시나리오 A – 스토리 코스 탐험

1. 사용자가 **홈** 접속 → “스토리 탐험” 메뉴 선택
2. 관심사·기간·동반자 유형 입력
3. AI 챗봇이 코스 추천 카드 리스트 반환
4. 사용자가 특정 코스 선택 → 상세 페이지 진입
5. 방문지 지도·예상 소요 시간·디지털 콘텐츠 확인

#### 시나리오 B – 디지털 스탬프 투어

1. 사용자 → 모바일에서 QR 스캔 기능 실행
2. 방문지 QR 인식 성공 시 스탬프 자동 획득
3. 스탬프 정보 IndexedDB(Local Storage)에 저장
4. 앨범 페이지에서 실시간 반영

#### 시나리오 C – DIY 기념품 제작

1. 사용자가 앨범 → “DIY 굿즈 제작” 클릭
2. 템플릿 선택 후 사진/스탬프 배치
3. 미리보기 확인 후 주문/결제 진행
4. 결제 서비스로 결제 완료 → 주문 확인 메일 발송

#### 시나리오 D – 커뮤니티 공유

1. 사용자가 숏폼 업로드 버튼 클릭
2. 제목·태그 입력 후 업로드
3. 커뮤니티 피드에 게시
4. SNS 공유 선택 시 외부 링크 생성 및 공유

---

## 📌 4. Alternative Flows and Edge Cases

| 상황              | 대체 흐름                                         |
| ----------------- | ------------------------------------------------- |
| AI 추천 실패      | 기본 인기 코스(최근 조회수 기준) 자동 제공        |
| QR 코드 인식 실패 | 재시도 안내 및 수동 입력 코드 제공                |
| 결제 실패         | 결제 실패 알림 → 재결제 또는 결제 수단 변경       |
| 네트워크 불안정   | 오프라인 모드(IndexedDB 저장 후 재연동 시 동기화) |
| 로그인 거부       | 비회원 상태로 탐색만 가능, 앨범 저장 불가 안내    |

---

## 📌 5. Preconditions and Postconditions

| 항목                          | 설명                                                                          |
| ----------------------------- | ----------------------------------------------------------------------------- |
| **사전 조건(Preconditions)**  | 사용자 브라우저 최신 버전, 카메라 권한 허용, JavaScript 활성화                |
| **사후 조건(Postconditions)** | 스탬프 획득 기록 로컬 저장, 앨범 업데이트, 결제 완료 시 주문 정보 이메일 전송 |

---

## 📌 6. Business Rules and Constraints

- **회원가입 선택적**: 탐색은 비회원 가능, 앨범 저장·기념품 주문은 로그인 필요
- **스토리 콘텐츠 저작권**: 모든 이미지/영상은 지역 관광청 또는 제휴 브랜드 소유
- **스탬프 보상 정책**: 모든 스탬프 획득 시 쿠폰 자동 발급(관리자 설정)
- **로컬 저장**: 개인정보 최소화, 서버 DB 미사용

---

## 📌 7. Exception Handling Procedures

| 예외 상황                   | 처리 절차                                            |
| --------------------------- | ---------------------------------------------------- |
| 지도 API 오류               | 기본 텍스트 경로 및 다운로드 가능한 PDF 제공         |
| 결제 취소                   | 결제 서비스 API를 통해 즉시 환불 절차 안내           |
| 브라우저 Local Storage 부족 | 사용자에게 스토리지 확보 요청 및 자동 정리 옵션 제공 |

---

## 📌 8. User Interface Considerations

- **반응형 UI**: 모바일 1열, 태블릿 2열, PC 3열 레이아웃
- **접근성**: 고대비 모드, 텍스트 대체(alt) 제공, 키보드 내비게이션 지원
- **검색 최적화**: AI 챗봇과 검색창 병행, 추천 코스 카드뷰
- **다국어 지원**: 한국어 기본, 영어/중국어/일본어 hreflang 메타 태그

---

## 📌 9. Data Requirements and Data Flow

### 데이터 항목

- 사용자 입력: 관심사, 기간, 동반자 유형, DIY 제작 옵션
- 로컬 저장 데이터: 스탬프 획득 내역, 앨범 사진/영상
- 외부 API 데이터: 지도 위치 정보, 결제 상태

### 데이터 흐름

1. 사용자 입력 → AI 챗봇 → 추천 코스 반환
2. QR 스캔 → IndexedDB 저장 → 앨범 자동 업데이트
3. 주문/결제 → 결제 API → 성공/실패 응답 → 사용자 알림

---

## 📌 10. Security and Privacy Considerations

- **로컬 저장 우선**: 개인 식별 정보 최소화 (닉네임, 이메일만 선택 저장)
- **HTTPS 통신**: 지도 API·결제 API 전송 시 TLS 1.2 이상 암호화
- **OAuth 로그인**: 소셜 로그인 시 외부 인증 토큰 사용
- **개인정보 보호**: 사용자가 직접 데이터 삭제 가능(앨범/스탬프 기록)
- **결제 보안**: PCI DSS 준수 결제 게이트웨이 사용

---

✅ **요약**  
포항 스토리 텔러의 주요 사용자는 여행객이며, 스토리 탐험·스탬프 투어·DIY 기념품·커뮤니티 공유를 중심으로 사용자 경험을 설계한다. 모든 주요 플로우는 **로컬 저장, AI 추천, QR 인증, 결제 연동**을 핵심으로 하며, 접근성·보안·SEO를 고려한 반응형 웹 구조를 따른다.
```
